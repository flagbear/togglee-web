"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[87],{6087:(e,t,l)=>{l.r(t),l.d(t,{default:()=>u});var a=l(7294),n=l(5171),o=l.n(n),r=l(5810);const c=["release","context"],i=[{name:"equal",value:"eq"},{name:"not equal",value:"ne"},{name:"bigger",value:"gt"},{name:"bigger equal",value:"ge"},{name:"lower",value:"lt"},{name:"lower equal",value:"le"}],s=()=>{const[e,t]=(0,a.useState)({toggles:[]}),[l,n]=(0,a.useState)(),s=async(l,a)=>{const o={...e,[l]:a};t(o),n({toggles:o.toggles.map((e=>{const t={name:e.name,type:e.type,conditions:e.type===c[1]?e.conditions.filter((e=>e.field&&e.value)):void 0,value:e.type===c[0]?e.value:void 0};return JSON.parse(JSON.stringify(t))})).filter((e=>e.name&&(e.type===c[0]||e.conditions.length>0)))})},u=async(t,l,a)=>s("toggles",e.toggles.map(((e,n)=>t===n?{...e,[l]:a}:e))),m=async(e,t,l,a)=>u(e,"conditions",t.map(((e,t)=>l===t?a:e)));return a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch"}},a.createElement("table",{class:"table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{style:{width:"20vw"}},"Name"),a.createElement("th",{style:{width:"10vw"}},"Type"),a.createElement("th",{style:{width:"50vw"}},"State"),a.createElement("th",{style:{width:"15vw"}},a.createElement("div",{className:"actions"},"Actions",a.createElement("button",{class:"button button--primary",onClick:()=>s("toggles",[...e.toggles,{name:void 0,type:c[0],conditions:[],value:!1,key:"xxxx-xxxx-xxx-xxxx".replace(/[x]/g,(e=>Math.floor(16*Math.random()).toString(16)))}])},a.createElement("i",{class:"fa fa-plus fa-lg"})))))),a.createElement("tbody",null,e.toggles.map(((t,l)=>a.createElement("tr",{key:"toggle_"+t.key},a.createElement("td",null,a.createElement("input",{type:"text",placeholder:"Name",value:t.name,onChange:e=>u(l,"name",e.target.value),required:!0})),a.createElement("td",null,a.createElement("select",{class:"button button--secondary",onChange:e=>u(l,"type",e.target.value),value:t.type,required:!0},c.map(((e,l)=>a.createElement("option",{key:"toggleType_"+t.key},e))))),a.createElement("td",null,t.type===c[0]?a.createElement(r.Z,{checked:t.value,onChange:e=>u(l,"value",e)}):t.conditions.map(((e,n)=>a.createElement(a.Fragment,null,a.createElement("div",{style:{display:"flex",flexDirection:"column",alignContent:"stretch"}},a.createElement("div",null,a.createElement("input",{style:{width:100},type:"text",placeholder:"Field",value:e.field,onChange:a=>m(l,t.conditions,n,{...e,field:a.target.value})}),a.createElement("select",{style:{width:170},class:"button button--secondary",onChange:a=>m(l,t.conditions,n,{...e,operation:a.target.value}),value:e.operation,required:!0},i.map(((e,l)=>a.createElement("option",{key:"OperationTypetoggleType_"+t.key,value:e.value},e.name)))),a.createElement("input",{style:{width:100},type:"text",placeholder:"Value",value:e.value,onChange:a=>m(l,t.conditions,n,{...e,value:a.target.value})}),a.createElement("button",{class:"button button--primary",onClick:()=>u(l,"conditions",t.conditions.filter(((e,t)=>n!==t)))},a.createElement("i",{class:"fa-regular fa-trash-can fa-lg"})))))))),a.createElement("td",null,a.createElement("div",{className:"actions"},t.type===c[1]&&a.createElement("button",{class:"button button--primary",onClick:()=>u(l,"conditions",[...t.conditions,{field:void 0,value:void 0,operation:i[0].value}])},a.createElement("i",{class:"fa fa-plus fa-lg"})),a.createElement("button",{class:"button button--primary",onClick:()=>s("toggles",e.toggles.filter(((e,t)=>l!==t)))},a.createElement("i",{class:"fa-regular fa-trash-can fa-lg"}))))))))),a.createElement(o(),{src:l,name:!1}))};function u(){return a.createElement(s,null)}}}]);