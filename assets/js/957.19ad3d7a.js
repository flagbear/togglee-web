"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[957],{5957:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var l=n(7294),a=n(5171),o=n.n(a),i=n(5810);const c=["release","context"],r=[{name:"equal",value:"eq"},{name:"not equal",value:"ne"},{name:"bigger",value:"gt"},{name:"bigger equal",value:"ge"},{name:"lower",value:"lt"},{name:"lower equal",value:"le"}],s=()=>{const[e,t]=(0,l.useState)({toggles:[]}),[n,a]=(0,l.useState)(),s=async(n,l)=>{const o={...e,[n]:l};t(o),a({toggles:o.toggles.map((e=>{const t={name:e.name,type:e.type,conditions:e.type===c[1]?e.conditions.filter((e=>e.field&&e.value)):void 0,value:e.type===c[0]?e.value:void 0};return JSON.parse(JSON.stringify(t))})).filter((e=>e.name&&(e.type===c[0]||e.conditions.length>0)))})},u=async(t,n,l)=>s("toggles",e.toggles.map(((e,a)=>t===a?{...e,[n]:l}:e))),m=async(e,t,n,l)=>u(e,"conditions",t.map(((e,t)=>n===t?l:e)));return l.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch"}},l.createElement("table",{class:"table"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",{style:{width:"20vw"}},"Name"),l.createElement("th",{style:{width:"10vw"}},"Type"),l.createElement("th",{style:{width:"50vw"}},"State"),l.createElement("th",{style:{width:"15vw"}},l.createElement("div",{className:"actions"},"Actions",l.createElement("button",{class:"button button--primary",onClick:()=>s("toggles",[...e.toggles,{name:void 0,type:c[0],conditions:[],value:!1}])},"Add"))))),l.createElement("tbody",null,e.toggles.map(((t,n)=>l.createElement("tr",{key:"toggle_"+n},l.createElement("td",null,l.createElement("input",{type:"text",placeholder:"Name",value:t.name,onChange:e=>u(n,"name",e.target.value),required:!0})),l.createElement("td",null,l.createElement("select",{class:"button button--secondary",onChange:e=>u(n,"type",e.target.value),value:t.type,required:!0},c.map(((e,a)=>l.createElement("option",{key:"toggleType_"+t.name+"_"+n+"_"+a},e))))),l.createElement("td",null,t.type===c[0]?l.createElement(i.Z,{checked:t.value,onChange:e=>u(n,"value",e)}):t.conditions.map(((e,a)=>l.createElement(l.Fragment,null,l.createElement("div",{style:{display:"flex",flexDirection:"column",alignContent:"stretch"}},l.createElement("div",null,l.createElement("input",{style:{width:100},type:"text",placeholder:"Field",value:e.field,onChange:l=>m(n,t.conditions,a,{...e,field:l.target.value})}),l.createElement("select",{style:{width:170},class:"button button--secondary",onChange:l=>m(n,t.conditions,a,{...e,operation:l.target.value}),value:e.operation,required:!0},r.map(((e,a)=>l.createElement("option",{key:"OperationTypetoggleType_"+t.name+"_"+n+"_"+a,value:e.value},e.name)))),l.createElement("input",{style:{width:100},type:"text",placeholder:"Value",value:e.value,onChange:l=>m(n,t.conditions,a,{...e,value:l.target.value})}),l.createElement("button",{class:"button button--primary",onClick:()=>u(n,"conditions",t.conditions.filter(((e,t)=>a!==t)))},"Delete"))))))),l.createElement("td",null,l.createElement("div",{className:"actions"},t.type===c[1]&&l.createElement("button",{class:"button button--primary",onClick:()=>u(n,"conditions",[...t.conditions,{field:void 0,value:void 0,operation:r[0].value}])},"Add Condition"),l.createElement("button",{class:"button button--primary",onClick:()=>s("toggles",e.toggles.filter(((e,t)=>n!==t)))},"Delete")))))))),l.createElement(o(),{src:n,name:!1}))};function u(){return l.createElement(s,null)}}}]);