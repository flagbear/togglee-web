"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[957],{5957:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var l=n(7294),a=n(5934),o=n(5171),r=n.n(o),c=n(5810);const i=["release","context"],u=["eq","ne","gt","ge","lt","le"],s=()=>{const[e,t]=(0,l.useState)({toggles:[]}),[n,o]=(0,l.useState)(),s=async(n,l)=>{const a={...e,[n]:l};t(a),o({toggles:a.toggles.map((e=>{const t={name:e.name,type:e.type,conditions:e.type===i[1]?e.conditions.filter((e=>e.field&&e.value)):void 0,value:e.type===i[0]?e.value:void 0};return JSON.parse(JSON.stringify(t))})).filter((e=>e.name&&(e.type===i[0]||e.conditions.length>0)))})},m=async(t,n,l)=>s("toggles",e.toggles.map(((e,a)=>t===a?{...e,[n]:l}:e))),d=async(e,t,n,l)=>m(e,"conditions",t.map(((e,t)=>n===t?l:e)));return l.createElement(l.Fragment,null,l.createElement("table",null,l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"Name"),l.createElement("th",null,"Type"),l.createElement("th",null,"State"),l.createElement("th",null,l.createElement("div",{className:"actions"},"Actions",l.createElement("button",{class:"button button--primary",onClick:()=>s("toggles",[...e.toggles,{name:void 0,type:i[0],conditions:[],value:!1}])},"Add"))))),l.createElement("tbody",null,e.toggles.map(((t,n)=>l.createElement("tr",{key:"toggle_"+n},l.createElement("td",null,l.createElement("input",{type:"text",placeholder:"Enter Name",value:t.name,onChange:e=>m(n,"name",e.target.value),required:!0})),l.createElement("td",null,l.createElement("select",{class:"button button--secondary",onChange:e=>m(n,"type",e.target.value),value:t.type,required:!0},i.map((e=>l.createElement("option",{key:"toggleType"+(0,a.Z)()},e))))),l.createElement("td",null,t.type===i[0]?l.createElement(c.Z,{checked:t.value,onChange:e=>m(n,"value",e)}):t.conditions.map(((e,o)=>l.createElement(l.Fragment,null,l.createElement("input",{type:"text",placeholder:"Enter field",value:e.field,onChange:l=>d(n,t.conditions,o,{...e,field:l.target.value})}),l.createElement("select",{onChange:l=>d(n,t.conditions,o,{...e,operation:l.target.value}),value:e.operation,required:!0},u.map((e=>l.createElement("option",{key:"OperationType"+(0,a.Z)()},e)))),l.createElement("input",{type:"text",placeholder:"Enter value",value:e.value,onChange:l=>d(n,t.conditions,o,{...e,value:l.target.value})}),l.createElement("button",{class:"button button--primary",onClick:()=>m(n,"conditions",t.conditions.filter(((e,t)=>o!==t)))},"Delete"))))),l.createElement("td",null,l.createElement("div",{className:"actions"},t.type===i[1]&&l.createElement("button",{class:"button button--primary",onClick:()=>m(n,"conditions",[...t.conditions,{field:void 0,value:void 0,operation:u[0]}])},"Add Condition"),l.createElement("button",{class:"button button--primary",onClick:()=>s("toggles",e.toggles.filter(((e,t)=>n!==t)))},"Delete")))))))),l.createElement(r(),{src:n,name:!1}))};function m(){return l.createElement(s,null)}}}]);